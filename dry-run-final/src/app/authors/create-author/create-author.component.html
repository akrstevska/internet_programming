<div class="row d-flex justify-content-center w-100 text-light mt-5 vh-100">
  <div class="col-11">
    <div class="col-12 mb-4 p-3">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <mat-card class="p-4 w-100">
          <mat-card-content>
            <h4 class="fw-light mb-3">Create New Author</h4>
            <form [formGroup]="authorForm" (ngSubmit)="onSubmit()">
              <div class="row">
                <mat-form-field class="col-6">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name">
                  <mat-error *ngIf="authorForm.get('name')?.errors?.['required']">
                    Name is required
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="col-6">
                  <mat-label>Nationality</mat-label>
                  <mat-select formControlName="nationality">
                    @for (nationality of nationalities; track nationality) {
                      <mat-option [value]="nationality">{{nationality}}</mat-option>
                    }
                  </mat-select>
                  <mat-error *ngIf="authorForm.get('nationality')?.errors?.['required']">
                    Nationality is required
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="row mb-3">
                <mat-form-field class="col-6">
                  <mat-label>Birth Date</mat-label>
                  <input matInput [matDatepicker]="picker3" formControlName="birth_date">
                  <mat-hint>MM/DD/YYYY</mat-hint>
                  <mat-datepicker-toggle matIconSuffix [for]="picker3"></mat-datepicker-toggle>
                  <mat-datepicker #picker3></mat-datepicker>
                  <mat-error *ngIf="authorForm.get('birth_date')?.errors?.['required']">
                    Birth date is required
                  </mat-error>
                  <mat-error *ngIf="authorForm.get('birth_date')?.errors?.['futureDate']">
                    Birth date must be in the past
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="col-6">
                  <mat-label>Death Date</mat-label>
                  <input matInput [matDatepicker]="picker4" formControlName="death_date">
                  <mat-hint>MM/DD/YYYY</mat-hint>
                  <mat-datepicker-toggle matIconSuffix [for]="picker4"></mat-datepicker-toggle>
                  <mat-datepicker #picker4></mat-datepicker>
                  <mat-error *ngIf="authorForm.get('death_date')?.errors?.['futureDate']">
                    Death date must be in the past
                  </mat-error>
                  <mat-error *ngIf="authorForm.get('death_date')?.errors?.['beforeBirth']">
                    Death date must be after birth date
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="d-flex justify-content-end">
                <button mat-flat-button color="primary" type="submit" class="px-5" [disabled]="!authorForm.valid">
                  Create
                </button>
              </div>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
